
@inject IJSRuntime JSRuntime

<div id="map" style="height:500px;width:100%;"></div>
<br />

@code {
    [Parameter]
    public double? Lat { get; set; }

    [Parameter]
    public double? Lng { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("initialize", Lng,Lat);
            StateHasChanged();
        }
    }

    protected async override Task OnParametersSetAsync()
    {
        await JSRuntime.InvokeVoidAsync("update", Lng, Lat);
        await OnParametersSetAsync();
    }
}